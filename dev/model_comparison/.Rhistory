kbl(.,
align=c("l", "l", rep("c", length(columns))),
digits = c(0, 0, rep(2, 7), 0), caption = cap) %>%
add_header_above(c(" " = 2, "POS" = 1, "NER"= 4, "Dependency Parsing" = 2, "Speed" = 1)) %>%
highlight_lowest(., data, columns = low_columns) %>%
highlight_highest(., data, columns = high_columns) %>%
kable_material(c("striped"))
low = c("WPS")
high = colnames(perf)[3:length(colnames(perf))]
high = high[!high %in% low]
cap = "Highest scores are in bold and second highest. WPS indicate words pr. second."
options(knitr.kable.NA = '')
make_table = function(data, high_columns=high, low_columns=low){
res = data %>%
kbl(.,
align=c("l", "l", rep("c", length(columns))),
digits = c(0, 0, rep(2, 7), 0), caption = cap) %>%
add_header_above(c(" " = 2, "POS" = 1, "NER"= 4, "Dependency Parsing" = 2, "Speed" = 1)) %>%
highlight_lowest(., data, columns = low_columns) %>%
highlight_highest(., data, columns = high_columns) %>%
kable_material(c("striped"))
# %>%
# kable_material(c("hover", "condensed", "striped"))
return(res)
}
perf_final %>% make_table(data = .)
low = c("WPS")
high = colnames(perf)[3:length(colnames(perf))]
high = high[!high %in% low]
cap = "Highest scores are in bold and second highest. WPS indicate words pr. second."
options(knitr.kable.NA = '')
make_table = function(data, high_columns=high, low_columns=low){
res = data %>%
kbl(.,
align=c("l", "l", rep("c", length(columns))),
digits = c(0, 0, rep(2, 7), 0), caption = cap) %>%
add_header_above(c(" " = 2, "POS" = 1, "NER"= 4, "Dependency Parsing" = 2, "Speed" = 1)) %>%
highlight_lowest(., data, columns = low_columns) %>%
highlight_highest(., data, columns = high_columns) %>%
kable_material(c("striped"))
# %>%
# kable_material(c("hover", "condensed", "striped"))
return(res)
}
perf_final %>% make_table(data = .) %>%
as_image(file ="../../img/perf.png")
low = c("WPS")
high = colnames(perf)[3:length(colnames(perf))]
high = high[!high %in% low]
cap = "Highest scores are in bold and second highest. WPS indicate words pr. second."
options(knitr.kable.NA = '')
make_table = function(data, high_columns=high, low_columns=low){
res = data %>%
kbl(.,
align=c("l", "l", rep("c", length(columns))),
digits = c(0, 0, rep(2, 7), 0), caption = cap) %>%
add_header_above(c(" " = 2, "POS" = 1, "NER"= 4, "Dependency Parsing" = 2, "Speed" = 1)) %>%
highlight_lowest(., data, columns = low_columns) %>%
highlight_highest(., data, columns = high_columns)
# %>%
# kable_material(c("hover", "condensed", "striped"))
return(res)
}
perf_final %>% make_table(data = .)
low = c("WPS")
high = colnames(perf)[3:length(colnames(perf))]
high = high[!high %in% low]
cap = "Highest scores are in bold and second highest. WPS indicate words pr. second."
options(knitr.kable.NA = '')
make_table = function(data, high_columns=high, low_columns=low){
res = data %>%
kbl(.,
align=c("l", "l", rep("c", length(columns))),
digits = c(0, 0, rep(2, 7), 0), caption = cap) %>%
add_header_above(c(" " = 2, "POS" = 1, "NER"= 4, "Dependency Parsing" = 2, "Speed" = 1)) %>%
highlight_lowest(., data, columns = low_columns) %>%
highlight_highest(., data, columns = high_columns)
# %>%
# kable_material(c("hover", "condensed", "striped"))
return(res)
}
perf_final %>% make_table(data = .) %>%
as_image(file ="../../img/perf.png")
low = c("WPS")
high = colnames(perf)[3:length(colnames(perf))]
high = high[!high %in% low]
cap = "Highest scores are in bold and second highest. WPS indicate words pr. second."
options(knitr.kable.NA = '')
make_table = function(data, high_columns=high, low_columns=low){
res = data %>%
kbl(.,
align=c("l", "l", rep("c", length(columns))),
digits = c(0, 0, rep(2, 7), 0), caption = cap) %>%
add_header_above(c(" " = 2, "POS" = 1, "NER"= 4, "Dependency Parsing" = 2, "Speed" = 1)) %>%
highlight_lowest(., data, columns = low_columns) %>%
highlight_highest(., data, columns = high_columns) %>%
kable_material()
# %>%
# kable_material(c("hover", "condensed", "striped"))
return(res)
}
perf_final %>% make_table(data = .) %>%
as_image(file ="../../img/perf.png")
low = c("WPS")
high = colnames(perf)[3:length(colnames(perf))]
high = high[!high %in% low]
cap = "Highest scores are in bold and second highest. WPS indicate words pr. second."
options(knitr.kable.NA = '')
make_table = function(data, high_columns=high, low_columns=low){
res = data %>%
kbl(.,
align=c("l", "l", rep("c", length(columns))),
digits = c(0, 0, rep(2, 7), 0), caption = cap) %>%
add_header_above(c(" " = 2, "POS" = 1, "NER"= 4, "Dependency Parsing" = 2, "Speed" = 1)) %>%
highlight_lowest(., data, columns = low_columns) %>%
highlight_highest(., data, columns = high_columns) %>%
kable_styling()
# %>%
# kable_material(c("hover", "condensed", "striped"))
return(res)
}
perf_final %>% make_table(data = .) %>%
as_image(file ="../../img/perf.png")
low = c("WPS")
high = colnames(perf)[3:length(colnames(perf))]
high = high[!high %in% low]
cap = "Highest scores are in bold and second highest. WPS indicate words pr. second."
options(knitr.kable.NA = '')
make_table = function(data, high_columns=high, low_columns=low){
res = data %>%
kbl(.,
align=c("l", "l", rep("c", length(columns))),
digits = c(0, 0, rep(2, 7), 0), caption = cap) %>%
add_header_above(c(" " = 2, "POS" = 1, "NER"= 4, "Dependency Parsing" = 2, "Speed" = 1)) %>%
highlight_lowest(., data, columns = low_columns) %>%
highlight_highest(., data, columns = high_columns) %>%
kable_styling()
# %>%
# kable_material(c("hover", "condensed", "striped"))
return(res)
}
perf_final %>% make_table(data = .)
low = c("WPS")
high = colnames(perf)[3:length(colnames(perf))]
high = high[!high %in% low]
cap = "Highest scores are in bold and second highest. WPS indicate words pr. second."
options(knitr.kable.NA = '')
make_table = function(data, high_columns=high, low_columns=low){
res = data %>%
kbl(.,
align=c("l", "l", rep("c", length(columns))),
digits = c(0, 0, rep(2, 7), 0), caption = cap) %>%
add_header_above(c(" " = 2, "POS" = 1, "NER"= 4, "Dependency Parsing" = 2, "Speed" = 1)) %>%
highlight_lowest(., data, columns = low_columns) %>%
highlight_highest(., data, columns = high_columns) %>%
kable_styling(c("hover", "condensed", "striped"))
# %>%
# kable_material(c("hover", "condensed", "striped"))
return(res)
}
perf_final %>% make_table(data = .)
low = c("WPS")
high = colnames(perf)[3:length(colnames(perf))]
high = high[!high %in% low]
cap = "Highest scores are in bold and second highest. WPS indicate words pr. second."
options(knitr.kable.NA = '')
make_table = function(data, high_columns=high, low_columns=low){
res = data %>%
kbl(.,
align=c("l", "l", rep("c", length(columns))),
digits = c(0, 0, rep(2, 7), 0), caption = cap) %>%
add_header_above(c(" " = 2, "POS" = 1, "NER"= 4, "Dependency Parsing" = 2, "Speed" = 1)) %>%
highlight_lowest(., data, columns = low_columns) %>%
highlight_highest(., data, columns = high_columns) %>%
kable_styling(c("hover", "condensed", "striped"))
# %>%
# kable_material(c("hover", "condensed", "striped"))
return(res)
}
perf_final %>% make_table(data = .) %>%
as_image(file ="../../img/perf.png")
?as_image
make_table = function(data, high_columns=high, low_columns=low){
res = data %>%
kbl(., "latex"
align=c("l", "l", rep("c", length(columns))),
digits = c(0, 0, rep(2, 7), 0), caption = cap) %>%
add_header_above(c(" " = 2, "POS" = 1, "NER"= 4, "Dependency Parsing" = 2, "Speed" = 1)) %>%
highlight_lowest(., data, columns = low_columns) %>%
highlight_highest(., data, columns = high_columns)
?kbl
low = c("WPS")
high = colnames(perf)[3:length(colnames(perf))]
high = high[!high %in% low]
cap = "Highest scores are in bold and second highest. WPS indicate words pr. second."
options(knitr.kable.NA = '')
make_table = function(data, high_columns=high, low_columns=low){
res = data %>%
kbl(., "latex",
align=c("l", "l", rep("c", length(columns))),
digits = c(0, 0, rep(2, 7), 0), caption = cap) %>%
add_header_above(c(" " = 2, "POS" = 1, "NER"= 4, "Dependency Parsing" = 2, "Speed" = 1)) %>%
highlight_lowest(., data, columns = low_columns) %>%
highlight_highest(., data, columns = high_columns) %>%
kable_styling(c("hover", "condensed", "striped"))
# %>%
# kable_material(c("hover", "condensed", "striped"))
return(res)
}
perf_final %>% make_table(data = .)
low = c("WPS")
high = colnames(perf)[3:length(colnames(perf))]
high = high[!high %in% low]
cap = "Highest scores are in bold and second highest. WPS indicate words pr. second."
options(knitr.kable.NA = '')
make_table = function(data, high_columns=high, low_columns=low){
res = data %>%
kbl(., "latex",
align=c("l", "l", rep("c", length(columns))),
digits = c(0, 0, rep(2, 7), 0), caption = cap) %>%
add_header_above(c(" " = 2, "POS" = 1, "NER"= 4, "Dependency Parsing" = 2, "Speed" = 1)) %>%
highlight_lowest(., data, columns = low_columns) %>%
highlight_highest(., data, columns = high_columns) %>%
kable_styling(c("hover", "condensed", "striped"))
# %>%
# kable_material(c("hover", "condensed", "striped"))
return(res)
}
perf_final %>% make_table(data = .) %>%
as_image(file ="../../img/perf.png")
low = c("WPS")
high = colnames(perf)[3:length(colnames(perf))]
high = high[!high %in% low]
cap = "Highest scores are in bold and second highest. WPS indicate words pr. second."
options(knitr.kable.NA = '')
make_table = function(data, high_columns=high, low_columns=low){
res = data %>%
kbl(., "latex",
align=c("l", "l", rep("c", length(columns))),
digits = c(0, 0, rep(2, 7), 0), caption = cap) %>%
add_header_above(c(" " = 2, "POS" = 1, "NER"= 4, "Dependency Parsing" = 2, "Speed" = 1)) %>%
highlight_lowest(., data, columns = low_columns) %>%
highlight_highest(., data, columns = high_columns) %>%
kable_styling(c("hover", "condensed", "striped"))
# %>%
# kable_material(c("hover", "condensed", "striped"))
return(res)
}
perf_final %>% make_table(data = .) %>%
as_image(file ="../../img/perf.png")
# Chunk 1
library(tidyverse)
library(kableExtra)
library(knitr)
library(jsonlite)
source("utility.R")
# Chunk 2: extract metrics
models = tribble(~"Framework", ~"Model",
"DaCy small", "Ælæctra Cased",
"DaCy medium", "DaBERT",
"DaCy large", "XLM-Roberta",
"DaConvBERT", "DaConvBERT",
"DaELECTRA", "DaELECTRA"
)
files = list.files("../../DaCy_training/metrics/", full.names = T)
performance = files %>% map_df(metrics_from_json) %>%
mutate(Framework = recode(Framework,
`dane_-l-ctra_cased` = "DaCy small",
dane_large = "DaCy large",
dane_medium = "DaCy medium",
`dane_-l-ctra_uncased` = "Ælæctra uncased",
dane_conv_small = "DaConvBERT",
dane_electra = "DaELECTRA")
) %>%
merge(models) %>%
select(Framework, Model, everything())
# Chunk 3: previous results
perf = tribble(
~"Framework", ~Model,           ~Accuracy, ~"Location", ~"Organization", ~"Person", ~"Avg F1" , ~UAS, ~LAS, ~WPS,
"DaNLP BERT",      "DaBERT",      NA,        83.90,      72.98,       92.82,       84.04,       NA,      NA, NA,
"Flair",     "BiLSTM",      97.97,     84.82,      62.95,       93.15,       81.78,       NA,      NA, NA,
"SpaCy (v2)", "Tok2Vec",    96.15,     75.96,      59.57,       87.87,       75.73,       81.36,   77.46, NA,
"Stanza",     "BiLSTMs",    97.75,     NA,         NA,          NA,          NA,          86.83,   84.19, NA,
"Polyglot",   "Word Embeddings" ,   NA,        64.95,      39.3,        78.74,       64.18,       NA,      NA, NA,
"NERDA",  "mBERT",NA,        80.75,      65.73,       92.66,       80.66,       NA,      NA, NA,
)
performance_comp = rbind(performance, perf)
# Chunk 4: final
non_final_models = c("Ælæctra uncased", "DaConvBERT", "DaELECTRA")
perf_final = performance_comp %>%
filter(!Framework %in% non_final_models)
# Chunk 1
library(tidyverse)
library(kableExtra)
library(knitr)
library(jsonlite)
source("utility.R")
# Chunk 2: extract metrics
models = tribble(~"Framework", ~"Model",
"DaCy small", "Ælæctra Cased",
"DaCy medium", "DaBERT",
"DaCy large", "XLM-Roberta",
"DaConvBERT", "DaConvBERT",
"DaELECTRA", "DaELECTRA"
)
files = list.files("../../DaCy_training/metrics/", full.names = T)
performance = files %>% map_df(metrics_from_json) %>%
mutate(Framework = recode(Framework,
`dane_-l-ctra_cased` = "DaCy small",
dane_large = "DaCy large",
dane_medium = "DaCy medium",
`dane_-l-ctra_uncased` = "Ælæctra uncased",
dane_conv_small = "DaConvBERT",
dane_electra = "DaELECTRA")
) %>%
merge(models) %>%
select(Framework, Model, everything())
# Chunk 3: previous results
perf = tribble(
~"Framework", ~Model,           ~Accuracy, ~"Location", ~"Organization", ~"Person", ~"Avg F1" , ~UAS, ~LAS, ~WPS,
"DaNLP BERT",      "DaBERT",      NA,        83.90,      72.98,       92.82,       84.04,       NA,      NA, NA,
"Flair",     "BiLSTM",      97.97,     84.82,      62.95,       93.15,       81.78,       NA,      NA, NA,
"SpaCy (v2)", "Tok2Vec",    96.15,     75.96,      59.57,       87.87,       75.73,       81.36,   77.46, NA,
"Stanza",     "BiLSTMs",    97.75,     NA,         NA,          NA,          NA,          86.83,   84.19, NA,
"Polyglot",   "Word Embeddings" ,   NA,        64.95,      39.3,        78.74,       64.18,       NA,      NA, NA,
"NERDA",  "mBERT",NA,        80.75,      65.73,       92.66,       80.66,       NA,      NA, NA,
)
performance_comp = rbind(performance, perf)
# Chunk 4: final
non_final_models = c("Ælæctra uncased", "DaConvBERT", "DaELECTRA")
perf_final = performance_comp %>%
filter(!Framework %in% non_final_models)
low = c("WPS")
high = colnames(perf)[3:length(colnames(perf))]
high = high[!high %in% low]
cap = "Highest scores are in bold and second highest. WPS indicate words pr. second."
options(knitr.kable.NA = '')
make_table = function(data, high_columns=high, low_columns=low){
res = data %>%
kbl(., "latex",
align=c("l", "l", rep("c", length(columns))),
digits = c(0, 0, rep(2, 7), 0), caption = cap) %>%
add_header_above(c(" " = 2, "POS" = 1, "NER"= 4, "Dependency Parsing" = 2, "Speed" = 1)) %>%
highlight_lowest(., data, columns = low_columns) %>%
highlight_highest(., data, columns = high_columns) %>%
kable_styling(c("hover", "condensed", "striped"))
# %>%
# kable_material(c("hover", "condensed", "striped"))
return(res)
}
perf_final %>% make_table(data = .) %>%
as_image(file ="../../img/perf.png")
low = c("WPS")
high = colnames(perf)[3:length(colnames(perf))]
high = high[!high %in% low]
cap = "Highest scores are in bold and second highest. WPS indicate words pr. second."
options(knitr.kable.NA = '')
make_table = function(data, high_columns=high, low_columns=low){
res = data %>%
kbl(., "latex",
align=c("l", "l", rep("c", length(columns))),
digits = c(0, 0, rep(2, 7), 0), caption = cap) %>%
add_header_above(c(" " = 2, "POS" = 1, "NER"= 4, "Dependency Parsing" = 2, "Speed" = 1)) %>%
highlight_lowest(., data, columns = low_columns) %>%
highlight_highest(., data, columns = high_columns) %>%
kable_styling(c("hover", "condensed", "striped"))
# %>%
# kable_material(c("hover", "condensed", "striped"))
return(res)
}
perf_final %>% make_table(data = .)
make_table = function(data, high_columns=high, low_columns=low){
res = data %>%
kbl(., "latex",
align=c("l", "l", rep("c", length(columns))),
digits = c(0, 0, rep(2, 7), 0), caption = cap) %>%
add_header_above(c(" " = 2, "POS" = 1, "NER"= 4, "Dependency Parsing" = 2, "Speed" = 1)) %>%
highlight_lowest(., data, columns = low_columns) %>%
highlight_highest(., data, columns = high_columns)
#%>%
# kable_styling(c("hover", "condensed", "striped"))
# %>%
# kable_material(c("hover", "condensed", "striped"))
return(res)
}
perf_final %>% make_table(data = .) %>%
as_image(file ="../../img/perf.png")
perf_final %>% make_table(data = .) %>%
as_image(file ="../../img/perf.tex")
devtools::install_github("haozhu233/kableExtra")
# Chunk 1
library(tidyverse)
library(kableExtra)
library(knitr)
library(jsonlite)
source("utility.R")
# Chunk 2: extract metrics
models = tribble(~"Framework", ~"Model",
"DaCy small", "Ælæctra Cased",
"DaCy medium", "DaBERT",
"DaCy large", "XLM-Roberta",
"DaConvBERT", "DaConvBERT",
"DaELECTRA", "DaELECTRA"
)
files = list.files("../../DaCy_training/metrics/", full.names = T)
performance = files %>% map_df(metrics_from_json) %>%
mutate(Framework = recode(Framework,
`dane_-l-ctra_cased` = "DaCy small",
dane_large = "DaCy large",
dane_medium = "DaCy medium",
`dane_-l-ctra_uncased` = "Ælæctra uncased",
dane_conv_small = "DaConvBERT",
dane_electra = "DaELECTRA")
) %>%
merge(models) %>%
select(Framework, Model, everything())
# Chunk 3: previous results
perf = tribble(
~"Framework", ~Model,           ~Accuracy, ~"Location", ~"Organization", ~"Person", ~"Avg F1" , ~UAS, ~LAS, ~WPS,
"DaNLP BERT",      "DaBERT",      NA,        83.90,      72.98,       92.82,       84.04,       NA,      NA, NA,
"Flair",     "BiLSTM",      97.97,     84.82,      62.95,       93.15,       81.78,       NA,      NA, NA,
"SpaCy (v2)", "Tok2Vec",    96.15,     75.96,      59.57,       87.87,       75.73,       81.36,   77.46, NA,
"Stanza",     "BiLSTMs",    97.75,     NA,         NA,          NA,          NA,          86.83,   84.19, NA,
"Polyglot",   "Word Embeddings" ,   NA,        64.95,      39.3,        78.74,       64.18,       NA,      NA, NA,
"NERDA",  "mBERT",NA,        80.75,      65.73,       92.66,       80.66,       NA,      NA, NA,
)
performance_comp = rbind(performance, perf)
# Chunk 4: final
non_final_models = c("Ælæctra uncased", "DaConvBERT", "DaELECTRA")
perf_final = performance_comp %>%
filter(!Framework %in% non_final_models)
low = c("WPS")
high = colnames(perf)[3:length(colnames(perf))]
high = high[!high %in% low]
cap = "Highest scores are in bold and second highest. WPS indicate words pr. second."
options(knitr.kable.NA = '')
make_table = function(data, high_columns=high, low_columns=low){
res = data %>%
kbl(., "latex",
align=c("l", "l", rep("c", length(columns))),
digits = c(0, 0, rep(2, 7), 0), caption = cap) %>%
add_header_above(c(" " = 2, "POS" = 1, "NER"= 4, "Dependency Parsing" = 2, "Speed" = 1)) %>%
highlight_lowest(., data, columns = low_columns) %>%
highlight_highest(., data, columns = high_columns)
#%>%
# kable_styling(c("hover", "condensed", "striped"))
# %>%
# kable_material(c("hover", "condensed", "striped"))
return(res)
}
perf_final %>% make_table(data = .) %>%
as_image(file ="../../img/perf.tex")
?kbl
low = c("WPS")
high = colnames(perf)[3:length(colnames(perf))]
high = high[!high %in% low]
cap = "Highest scores are in bold and second highest. WPS indicate words pr. second."
options(knitr.kable.NA = '')
make_table = function(data, high_columns=high, low_columns=low){
res = data %>%
kbl(., "pipe",
align=c("l", "l", rep("c", length(columns))),
digits = c(0, 0, rep(2, 7), 0), caption = cap) %>%
add_header_above(c(" " = 2, "POS" = 1, "NER"= 4, "Dependency Parsing" = 2, "Speed" = 1)) %>%
highlight_lowest(., data, columns = low_columns) %>%
highlight_highest(., data, columns = high_columns)
#%>%
# kable_styling(c("hover", "condensed", "striped"))
# %>%
# kable_material(c("hover", "condensed", "striped"))
return(res)
}
perf_final %>% make_table(data = .)
low = c("WPS")
high = colnames(perf)[3:length(colnames(perf))]
high = high[!high %in% low]
cap = "Highest scores are in bold and second highest. WPS indicate words pr. second."
options(knitr.kable.NA = '')
make_table = function(data, high_columns=high, low_columns=low){
res = data %>%
kbl(.,
align=c("l", "l", rep("c", length(columns))),
digits = c(0, 0, rep(2, 7), 0), caption = cap) %>%
add_header_above(c(" " = 2, "POS" = 1, "NER"= 4, "Dependency Parsing" = 2, "Speed" = 1)) %>%
highlight_lowest(., data, columns = low_columns) %>%
highlight_highest(., data, columns = high_columns) %>%
kable_styling(c("hover", "condensed", "striped"))
# %>%
# kable_material(c("hover", "condensed", "striped"))
return(res)
}
perf_final %>% make_table(data = .)
low = c("WPS")
high = colnames(perf)[3:length(colnames(perf))]
high = high[!high %in% low]
cap = "Highest scores are in bold and second highest. WPS indicate words pr. second."
options(knitr.kable.NA = '')
make_table = function(data, high_columns=high, low_columns=low){
res = data %>%
kbl(.,
align=c("l", "l", rep("c", length(columns))),
digits = c(0, 0, rep(2, 7), 0), caption = cap) %>%
add_header_above(c(" " = 2, "POS" = 1, "NER"= 4, "Dependency Parsing" = 2, "Speed" = 1)) %>%
highlight_lowest(., data, columns = low_columns) %>%
highlight_highest(., data, columns = high_columns) %>%
kable_styling(c("hover", "condensed", "striped"))
# %>%
# kable_material(c("hover", "condensed", "striped"))
return(res)
}
perf_final %>% make_table(data = .) %>%
as_image(file ="../../img/perf.png")
